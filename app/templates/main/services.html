{% extends 'base.html' %}
{% block title %}Services – AutoBook{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h2 class="mb-0"><i class="bi bi-list-check me-2"></i>{{ t('services_title') }}</h2>
  {% if current_user.is_authenticated %}
  <a href="{{ url_for('booking.book') }}" class="btn btn-primary">
    <i class="bi bi-calendar-plus me-1"></i>{{ t('nav_book_now') }}
  </a>
  {% endif %}
</div>

{% if services %}
<div class="table-responsive">
  <table class="table table-striped table-hover align-middle">
    <thead class="table-dark">
      <tr>
        <th>{{ t('services_col_service') }}</th>
        <th>{{ t('services_col_description') }}</th>
        <th class="text-center">{{ t('services_col_duration') }}</th>
        <th class="text-end">{{ t('services_col_price') }}</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {% for service in services %}
      <tr>
        <td class="fw-semibold">{{ service.name }}</td>
        <td class="text-muted">{{ service.description or '—' }}</td>
        <td class="text-center">
          <span class="badge bg-secondary">{{ service.duration_minutes }} {{ t('min') }}</span>
        </td>
        <td class="text-end fw-bold text-success">${{ '%.2f' | format(service.price) }}</td>
        <td class="text-end">
          {% if current_user.is_authenticated %}
          <a href="{{ url_for('booking.book', service_id=service.id) }}" class="btn btn-sm btn-outline-primary">{{ t('services_book') }}</a>
          {% else %}
          <a href="{{ url_for('auth.login') }}" class="btn btn-sm btn-outline-secondary">{{ t('services_login_to_book') }}</a>
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% else %}
<div class="alert alert-info">{{ t('services_none') }}</div>
{% endif %}
{% endblock %}
